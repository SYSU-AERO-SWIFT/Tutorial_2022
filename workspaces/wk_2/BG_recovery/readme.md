## Recovery - 视频背景还原器模块

- Author: hyjack-00
- Revised: hyjack-00
- Date: 2022-09-25
- Version: 1.0.0
- Abstract: 在 C++ opencv 下基于前景忽略的视频背景还原器

---

### 功能

在理想条件（视频背景不运动）下，对存在运动前景遮挡的视频进行背景提取并记录处理时间。

- 总帧数足够时 ($ > 50$)
  - 原理：利用相邻帧差确定变动像素点，分块计算图片中变动像素密度，从而确定前景矩形范围，忽略前景范围框并以其余部分加权更新背景
  - 适用：主要适用于**单遮挡物**视频，对于遮挡物运动较快，或具有模糊边缘的视频有着相对更好的效果；算法耗时极低，且默认的背景更新方式时序记忆性不高，可进行实时背景提取。
- 总帧数不足时 ($ \le 50$)
  - 原理：利用摩尔投票法确定图片每个像素点在时序上的众数值作为背景
  - 适用：可处理不连续运动的遮挡前景，同样能够实时背景提取；需要较为理想的背景，对于噪点严重的视频可能会复现出噪点

### 接口

```cpp
// 输入视频本地地址，读入视频
void readVideo(string filePath);

// 对图像进行背景提取处理
void process();

// 展示最终背景，以及处理耗时
void showResult();
```

### 依赖库

- 依赖 opencv

### 测试

在项目文件夹执行命令 `make` 可编译出默认测试程序 `./bin/demo` 。

在项目文件夹执行视频背景提取：

```shell
./bin/demo <video path>
```

`./resource` 中提供的三个测试样本，以及一个自录视频的还原结果已保存在 `./result` 中。
